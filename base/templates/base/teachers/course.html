{% extends 'base/dashboard.html' %}

{% block title %} Course {% endblock title%}

{% block content %}

<div class="col-lg-12 grid-margin stretch-card">
  <div class="card">
      
    <div class="card-body">
<h4 class="card-title d-flex justify-content-between align-items-center">
  <span>My Courses</span>
    <a href="{% url 'teacher/create_course' %}" class="btn btn-block btn-gradient-primary btn-sm font-weight-medium auth-form-btn" type="submit">Create a new course</a>
</h4>

    {% if courses|length == 0 %}
    <h4 class="my-4 text-center">You haven't enrolled in any course</h3>
    
    {% else %}
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Course Name</th>
            <th>Course Description</th>
            <th>No of Students</th>
          </tr>
        </thead>
        <tbody>
          {% for course in courses %}
          <tr>
            <td><a href="{% url 'teacher/assignment' course.id %}">{{course.name}}</a></td>
            <td>{{course.description|truncatechars:50}}</td>
            <td>{{course.students.count}}</td>
          </tr>
          
          {% endfor %}
        </tbody>
      </table>
    {% endif %}
    </div>
  </div>
</div>
{% endblock content %}
