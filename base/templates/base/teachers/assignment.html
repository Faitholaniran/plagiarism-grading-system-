{% extends 'base/dashboard.html' %}

{% block title %} Course {% endblock title%}

{% block content %}

<div class="col-lg-12 grid-margin stretch-card">
  <div class="card">

    <div class="card-body">
      <h4 class="card-title d-flex justify-content-between align-items-center">
        <span>Assignments for {{ course.name }}</span>
        <a href="{% url 'teacher/create-assignment' course.id %}"
          class="btn btn-block btn-gradient-primary btn-sm font-weight-medium auth-form-btn" type="submit">Add
          assignment</a>
      </h4>

      {% if assignments|length == 0 %}
      <h4 class="my-4 text-center">This course has no assignment</h3>

        {% else %}
        <table class="table table-hover">
          <thead>
            <tr>
              <th>Assignment Name</th>
              <th>Assignment Description</th>
              <th>No of Submissions</th>
            </tr>
          </thead>
          <tbody>
            {% for assignment in assignments %}
            <tr>
              <td><a href="{% url 'teacher/submissions' course.id assignment.id %}">{{assignment.name}}</a></td>
              <td>{{assignment.description|truncatechars:50}}</td>
              <td>{{assignment.submission_set.count}}</td>
            </tr>

            {% endfor %}
          </tbody>
        </table>
        {% endif %}
    </div>
  </div>
</div>
{% endblock content %}
